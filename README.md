# Welcome to the Chrysalis Imaris Xtension Page


The [Chrysalis Imaris Xtensions](https://github.com/ChrysalisImaging/Chrysalis-Imaris-Xtensions) have been developed at the University of Minnesota by Dmitri Kotov (kotov003@umn.edu) in Marc Jenkins' laboratory in collaboration with Thomas Pengo of the University of Minnesota University Imaging Center. 

These Xtensions aid in quantitative, multispectral image analysis in Imaris for static images (3D Images), like those acquired on confocal or epifluorescent microscopes, as well as for 2-photon movies (3D images over time). Additionally, many of these Xtensions are intended for batch processing images. This batch functionality allows for the batching of histo-cytometry analysis, thereby greatly speeding up the histo-cytometry workflow.


## Imaris Xtensions

More detailed explanations of each feature described here as well as additional features can be found in the Chrysalis Xtensions documentation.docx file at the [Chrysalis Imaris Xtensions github site](https://github.com/ChrysalisImaging/Chrysalis-Imaris-Xtensions).

The XTChrysalis, XTChrysalis2phtn, XTBatchKissandRun, XTCreateSurfaces, XTExportStatswithRescaleOffset, XTDistanceTransformOutsideObjectForBatchFirst2surfaces, and XTDistanceTransformOutsideObjectForBatchLastNsurfaces Xtensions are run through the XTBatchProcess Xtension thereby allowing for batched image analysis.

#### XTChyrsalis

This Xtension batches static image analysis for a group of images in Imaris. The following steps are applied to each image:

1. Create new surfaces that subset DC surfaces based on Sortomato regions
2. Create new surfaces that identify activated DCs based on Sortomato regions
3. Calculate distances from each new surface to neighboring cells
4. Export TCR and DC surface statistics


#### XTChyrsalis2phtn

This Xtension batches two-photon movie analysis for a group of movies in Imaris. The following steps are applied to each movie:

1. Calculate distances from DCs to to neighboring cells
2. Quantify interactions between TCR Tg cells and DCs
3. Export TCR and DC surface statistics


#### Sortomato V2.0

This Xtension allows Imaris images to be analyzed in a similar manner to how FlowJo can be used to analyze flow cytometry data. Every statistic available for a surface can be plotted on a 2D plot against any other statistic, for example mean signal intensity of channel 1 can be plotted against mean signal intensity of channel 2. Regions can be identified on the 2D plot, similar to gating in FlowJo, and these regions can be used to subset existing surfaces into new surfaces.


#### XTMovieSurfacesAndStats

This Xtension also batches two-photon movie analysis for a group of movies in Imaris. The following steps are applied to each movie:
1. Create new surfaces that subset existing surfaces based on Sortomato regions
2. Calculate distances from each new surface to neighboring cells
3. Export TCR and DC surface statistics

#### XTCreateSurfaces

This Xtension batches the generation of new surfaces based on regions of existing surfaces that were identified with Sortomato.


#### XTExportStatswithRescaleOffset

This Xtension batches the exportation of statistics for TCR Tg cells and DC as a CSV file that can be directly imported in Flowjo for further quantitative analysis.


#### XTDistanceTransformOutsideObjectForBatchFirst2surfaces

This Xtension batches distance transformation for the initial two surfaces in the object list of multiple Imaris image files. Distance transformation calculates the distance from a surface to other cells.


#### XTDistanceTransformOutsideObjectForBatchLastNsurfaces

This Xtension batches distance transformation for the last N surfaces in the object list of multiple Imaris image files. Distance transformation calculates the distance from a surface to other cells. The N is set to 2, but can be quickly changed in Matlab by the end user.


## How to Run Chrysalis
 
 
The compiled version of Chrysalis can be run in Windows or Mac OSX while the non-compiled code can be run and edited in Matlab. 

See the Chrysalis Xtensions documentation.docx file at the [Chrysalis Imaris Xtensions github site](https://github.com/ChrysalisImaging/Chrysalis-Imaris-Xtensions) for more details.


## More Information about Chrysalis


For detailed information about the Chrysalis Xtensions, please refer to our recent publication in **Blank** journal (insert link).

For a detailed histo-cytometry protocol, please refer to the our [current protocol](http://www.jenkinslab.umn.edu/Jenkins_Lab_2/protocols.html) and our recent publication in **Blank** journal (insert link).

## Acknowledgments

The XTChrysalis Xtension utilizes data generated by a customized version of the Sortomato Xtension, which was originally written by Peter Beemiller and modified by Dmitri Kotov and Thomas Pengo.

Matthew J. Gastinger, Ph.D contributed to the Chrysalis Imaris Xtensions, with portions of the XTChrysalis and XTChrysalis2phtn scripts utilizing code from his Kiss and Run Imaris Xtension. Other Xtensions in the Chrysalis-Imaris-Xtensions folder, like XTCreateSurfaces, are dervide from the XTChrysalis and XTChrysalis2phtn Xtensions and may therefore also contain code generated by Dr. Gastinger.


